{"version":3,"sources":["js/messages.js","js/helpers.js","js/api.js","components/DistrictList.js","panels/Home.js","components/ClinikList.js","panels/District.js","panels/Map.js","components/DocList.js","panels/Clinik.js","panels/Doc.js","panels/SignUp.js","panels/Search.js","panels/Offline.js","App.js","index.js"],"names":["messages","not_class_api","server_offline","no_internet","wtf","oops","home_panel_title","clinik_button","map_clinik_button","email","desk","lpuType","lpuFullName","phone","adress","forms","add","save","submit","isDev","window","location","hash","isLocal","port","getMessage","k","d","showAlert","setState","title","message","actions","autoclose","style","loader","disable","popout","react_default","a","createElement","es6","actionsLayout","onClose","dd","_console","console","log","apply","arguments","axios","defaults","headers","common","Accept","API","url","method","action","data","concat","catch","error","response","this","send","lpu","lastName","firstName","middleName","birthdate","success","districtId","result","specId","docId","DistrictList","_this","districts","props","className","length","Fragment","map","district","index","expandable","onClick","e","_this$props","setParentState","goPanel","cliniks","goDistrict","key","name","Component","Home","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","api","id","components_DistrictList","assign","snackbar","ClinikList","clinik","marginTop","connect","text","address","split","splice","multiline","href","startsWith","display","stretched","size","getSpecs","goClinik","level","marginLeft","_this$props2","lat","latitide","long","longitude","goMap","District","disabled","getDistrict","goBack","left","IS_PLATFORM_IOS","chevron_back_default","back_default","components_ClinikList","MapW","loading","_this2","react_yandex_maps_esm","onLoad","width","height","defaultState","center","zoom","geometry","options","float","DocList","docs","doc","fontSize","color","freeParticipantCount","getDoc","clinik2","currentDocName","goDoc","wide","Clinik","getDocs","lpuShortName","specs","placeholder","top","value","spec","onChange","_e$currentTarget","currentTarget","defineProperty","toLowerCase","components_DocList","require","Doc","dates","room","day","item","visitStart","slice","moment","format","verticalAlign","alignItems","visitEnd","position","right","visitDay","dateSign","visitInfo","align","requested","openDoneSnackbar","openErrorSnackbar","regExp","checked","required","type","first_name","maxLength","last_name","middle_name","min","max","date","undefined","Date","getDate","mm","getMonth","getFullYear","pDate","birthday","readOnly","defaultChecked","accept","noty","group_id","test","ДатаРождения","Имя","Фамилия","Отчество","Номер","Почта","Клиника","Согласие","IDВремениЗаписи","CheckPatient","then","res","mes","Up","payload","SearchPanel","Offline","_React$Component","inherits","createClass","Panel_default","theme","PanelHeader_default","Div_default","Footer_default","Spinner_default","React","App","initApp","showOfflinePage","offline","bind","assertThisInitialized","showLoader","show","onStoryChange","story","panel","activeStory","activePanel","history","pushState","toConsumableArray","pop","status","checkOnline","navigator","onLine","getDistricts","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","GetDistricts","sent","stop","_x","_ref2","_callee2","_args2","_context2","GetDistrict","_x2","_ref3","_callee3","_args3","_context3","GetSpecs","_x3","_ref4","_callee4","_context4","GetDocs","_x4","_x5","_ref5","_callee5","_context5","GetDoc","_x6","_x7","duration","layout","before","backgroundColor","done_default","fill","time","clear_default","fetchedUser","currentDistrictId","userDistricts","addEventListener","preventDefault","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","phone_number","setInterval","_this$state","views","isWebView","panels_Offline","Search","onSwipeBack","src_panels_Home","panels_District","Map","panels_Clinik","panels_Doc","SignUp","root","getElementById","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.ac02420e.chunk.js","sourcesContent":["export const messages = {\n    not_class_api: \"Проблема с API\",\n    server_offline: \"Сервер не отвечает\",\n    no_internet: \"Ожидание интернет-соединения\",\n    wtf: \"Повторите попытку позднее\",\n    oops: \"Упс...\",\n\n    home_panel_title: \"Запись к врачу\",\n    clinik_button: \"Записаться сюда\",\n    map_clinik_button: 'Показать на карте',\n\n    email: \"Эл. почта\",\n    desk: \"Описание\",\n    lpuType: \"Тип\",\n    lpuFullName: \"Название\",\n    phone: 'Телефонный номер',\n    adress: \"Адрес\",\n\n    forms: {\n        add: \"Добавить\",\n        save: \"Сохранить\",\n        submit: \"Отправить\"\n    }\n};\n","import { messages } from \"./messages\";\nimport React from 'react';\nimport { Alert } from '@vkontakte/vkui';\n// import connect from '@vkontakte/vk-connect';\n\nexport const isDev = (window.location.hash === '#debug') ? true : false;\nexport const isLocal = (window.location.port === '8080') ? true : false;\n\nexport const sleep = async (time) => {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve();\n        }, time);\n    });\n};\n\nexport const initLazyLoad = () => {\n    window.onscroll = () => {\n        const moreButton = document.getElementById('lazy-more');\n\n        if (moreButton && moreButton.disabled === false) {\n            if ((window.innerHeight + window.scrollY) >= (document.body.scrollHeight - 300)) {\n                moreButton.click();\n            }\n        }\n    };\n};\n\nexport const getMessage = (k, d) => {\n    if (messages && messages[k]) {\n        return messages[k];\n    } else {\n        return d || '—';\n    }\n}\n\nexport const showAlert = (setState, title, message, actions) => {\n    actions = actions ? actions : [{\n        title: 'Ок',\n        autoclose: true,\n        style: 'cancel'\n    }];\n\n    setState({\n        loader: null,\n        disable: false,\n        popout: <Alert\n                    actionsLayout=\"vertical\"\n                    actions={actions}\n                    onClose={ () => {\n                        setState({ popout: null })\n                    }}\n                >\n                    { title ? <h2>{ title }</h2> : <h2>{ getMessage('oops') }</h2> }\n                    <p>{ message || getMessage('wtf') }</p>\n                </Alert>\n    });\n}\n\nexport const formatNumber = (number) => {\n     if (number === null) return 0;\n  return `${number}`.replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ');\n};\n\nexport const shortNumber = count => {\n  if(count > 1000){\n    return formatNumber(Math.floor(count/1000)) + 'K участников'\n  } else if(count > 0){\n    return `${count} участников`\n  } else return 'Участников нет'\n}\n\nexport const dd = (...m) => {\n    if (isDev || isLocal) console.log(...m);\n}\n","import axios from 'axios';\n\nimport { dd, getMessage } from './helpers';\n\naxios.defaults.headers.common = {\n    Accept: \"application/json, text/plain, */*\"\n}\n\nexport default class API {\n\n    async send(url, method = 'GET', action, data = {}) {\n        const response = await axios({\n            method,\n            url: `${url}${action}`,\n            data\n        }).catch(error => {\n            dd('Error API:', error);\n            window.showAlert(getMessage('server_offline'));\n          //  return { \"status\": false, \"failed\": error.response.data.message }\n        });\n        return response ? response.data : [];\n    }\n\n    async CheckPatient(data) {\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${data.lpu}/patient?lastName=${data.lastName}&firstName=${data.firstName}${data.middleName && `&middleName=${data.middleName}`}&birthdate=${data.birthdate}T00:00:00Z`, null);\n        dd('API: ', 'CheckPatient', response);\n\n        return [response.success, response.message];\n    }\n\n    async GetDistrict(districtId) {\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `district/${districtId}/lpu`, null);\n        dd('API: ', 'GetDistrict', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n    async GetSpecs(lpu) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/speciality`, null);\n        dd('API: ', 'GetSpecs', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n    async GetDocs(lpu, specId) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/doctor?specialityId=${specId}`, null);\n        dd('API: ', 'GetDocs', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async GetDoc(lpu, docId) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/appointment?doctorId=${docId}`, null);\n        dd('API: ', 'GetDoc', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async Up() {\n\n        const API_URL \t= 'https://cors-anywhere.herokuapp.com/https://roan-nigella.glitch.me/';\n\n        let response = await this.send(API_URL, 'GET', ``, null);\n        dd('API: ', 'Up', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async GetDistricts() {\n      const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/district';\n      var response = await this.send(API_URL, 'GET', ``, null);\n\n        dd('API: ', 'GetDistricts', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n}\n","import React, { Component } from 'react';\nimport { Group, Cell, Div, Spinner } from '@vkontakte/vkui';\n\nclass DistrictList extends Component {\n\n    render() {\n\n        const { districts } = this.props;\n\n        const goDistrict = e => {\n        const { setParentState, goPanel } = this.props;\n\n        setParentState({\n          district: e,\n          cliniks: false\n         });\n        goPanel('district');\n      }\n\n        return (\n            <Group className=\"transparentBody DistrictsList\">\n              <Group title=\"Выберите свой район\">\n                {\n                    (districts && districts.length) ?\n                        <>\n                            {\n                                districts.map((district, index) =>\n\n                              <Cell expandable onClick={() => goDistrict(district)} district={district} key={index}>{district.name}</Cell>\n\n                              )\n                            }\n                        </>\n                        :\n                        <Div><Spinner /></Div>\n                }\n            </Group>\n            </Group>\n        )\n    }\n}\n\nexport default DistrictList;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, /* HeaderButton */} from '@vkontakte/vkui';\n\n//import connect from '@vkontakte/vk-connect';\nimport { getMessage } from '../js/helpers';\n\nimport DistrictList from '../components/DistrictList';\n\n//import Icon24Place from '@vkontakte/icons/dist/24/place';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            districts: this.props.districts\n        };\n\n        this.api = this.props.api;\n    }\n\n    render() {\n        const { id, setParentState } = this.props;\n\n      /*  const onenGeoMap = e => {\n          connect.send(\"VKWebAppGetGeodata\", {});\n        }*/\n        return (\n            <Panel id={id}>\n                <PanelHeader /*left={\n                  <HeaderButton onClick={ onenGeoMap }>\n\t\t\t               <Icon24Place/>\n\t\t               </HeaderButton>}*/>{ getMessage('home_panel_title') }</PanelHeader>\n                        <DistrictList\n                            {...this.props}\n                            districts={ this.props.districts }\n                            setParentState={ setParentState }\n                        />\n                \t{this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Group, Div, Cell, List, Link, Button, Spinner, Separator, InfoRow } from '@vkontakte/vkui';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport { getMessage } from '../js/helpers';\nimport '../css/App.css';\n\nclass ClinikList extends Component {\n\n    render() {\n\n        const { cliniks } = this.props;\n\n        if(!cliniks) return <Div><Spinner/></Div>\n        const goClinik = e => {\n        const { setParentState, getSpecs } = this.props;\n\n        setParentState({ clinik: e });\n        getSpecs(e.id)\n      }\n\n      const goMap = e => {\n      const { setParentState, goPanel } = this.props;\n\n      setParentState({\n        lat: e.latitide,\n        long: e.longitude,\n      });\n\n      goPanel('map');\n    }\n\n        return (\n          <>\n                {\n                    (cliniks && cliniks.length) ?\n                        <>\n                          <Group title=\"Выберите поликлинику\"/>\n                            {\n                                cliniks.map((clinik, index) =>\n                                <Group style={{ marginTop: 10 }} key={index} title={clinik.lpuFullName}>\n                                <List>\n                                  <Cell\n                                      onClick={() => connect.send(\"VKWebAppCopyText\", {text: clinik.address.split(',').splice(1) })}\n                                      multiline\n                                    >\n                                  <InfoRow title={ getMessage('adress') }>\n                                    {clinik.address.split(',').splice(1)}\n                                  </InfoRow>\n                                  </Cell>\n                                  {/*\n                                    <Cell multiline>\n                                        <InfoRow title={ getMessage('desk') }>\n                                          {clinik.description}\n                                        </InfoRow>\n                                      </Cell>\n                                  */}\n                                  <Cell multiline>\n                                    <InfoRow title={ getMessage('phone') }>\n                                      <Link href={clinik.phone.startsWith('(') ? `tel:+7${clinik.phone}` : `tel:${clinik.phone}`}>\n                                      {clinik.phone.startsWith('(') ? `+7 ${clinik.phone}` : clinik.phone}\n                                      </Link>\n                                    </InfoRow>\n                                  </Cell>\n                                  {\n                                    clinik.email !== null &&\n                                    <Cell multiline>\n                                    <InfoRow title={ getMessage('email') }>\n                                    <Link href={`mailto:${clinik.email}`}>\n                                      {clinik.email}\n                                      </Link>\n                                    </InfoRow>\n                                  </Cell>\n                                }\n                                  <Cell multiline>\n                                    <InfoRow title={ getMessage('lpuType') }>\n                                      {clinik.lpuType ? clinik.lpuType : 'Неизвестно'}\n                                    </InfoRow>\n                                  </Cell>\n                                </List>\n                                <Separator/>\n                                <Div style={{ display: 'flex' }}>\n                                <Button stretched size=\"l\" onClick={ () => goClinik(clinik) } level=\"primary\">{getMessage('clinik_button')}</Button>\n                                <Button style={{ marginLeft: 5 }} stretched size=\"l\" onClick={ () =>  goMap(clinik) } level=\"secondary\">{getMessage('map_clinik_button')}</Button>\n                                </Div>\n                              </Group>\n\n\n                              )\n                            }\n                        </>\n                        :\n                        <Group><Div>В данном районе не найдено ни одной поликлиники</Div></Group>\n                }\n                </>\n        )\n    }\n}\n\nexport default ClinikList;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader,  IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport CliniktList from '../components/ClinikList';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass District extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            district: this.props.state.district,\n            cliniks: this.props.state.cliniks,\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {\n        this.props.getDistrict(this.state.district.id, false);\n    }\n\n    render() {\n        const { id, goBack, setParentState} = this.props;\n\n        const district = `${this.state.district.name} р-н`;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>{district}</PanelHeader>\n                    <CliniktList\n                    {...this.props}\n                    cliniks={ this.props.state.cliniks }\n                    setParentState={ setParentState }\n                    />\n            </Panel>\n        );\n    }\n}\n\nexport default District;\n","import React, { Component } from 'react';\n\nimport { Panel, PanelHeader, Spinner, Div, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\nimport { YMaps, Map, Placemark, ZoomControl } from 'react-yandex-maps';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\n\nclass MapW extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true\n        };\n\n        this.api = this.props.api;\n    }\n\n//    componentDidMount() {}\n    render() {\n        const { id, goBack, state } = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Карта</PanelHeader>\n\n                    { this.state.loading && <Div><Spinner/></Div> }\n\n                   <YMaps>\n                   <Map className={ IS_PLATFORM_IOS ? 'MapsCssIOS' : 'MapsCssAndroid'} onLoad={() => this.setState({ loading: false }) } width=\"100vw\" height=\"100vh\" defaultState={{ center: [state.lat, state.long], zoom: 14 }} >\n\n                   <Placemark  geometry={[state.lat, state.long]} />\n                   <ZoomControl options={{ float: 'right' }} />\n\n                   </Map>\n                   </YMaps>\n            </Panel>\n        );\n    }\n}\n\nexport default MapW;\n","import React, { Component } from 'react';\nimport { Div, Cell, List, Spinner, Button, Separator, InfoRow } from '@vkontakte/vkui';\n\nimport '../css/App.css';\n\nclass DocList extends Component {\n\n    render() {\n\n        const { docs } = this.props;\n\n        if(!docs) return <Spinner/>\n        const goDoc = e => {\n        const { setParentState, getDoc, clinik2 } = this.props;\n        getDoc(clinik2.id, e.id);\n        setParentState({\n          doc: e,\n          currentDocName: e.name\n          });\n      }\n        return (\n          <>\n                {/*\n                  docs &&   <Group title=\"Выберите доктора\"/>\n                */}\n                {\n                    (docs && docs.length) ?\n                        <>\n                            {\n                                docs.map((doc, index) =>\n                                <Div key={index}>\n                                <List>\n                                  <Cell multiline>\n                                  <InfoRow style={{ fontSize: 15 , color: '#999'}} title={''/*{ `Врач: ${doc.name}` }*/}>\n                                  { `Врач: ${doc.name}` }\n                                  </InfoRow>\n                                  </Cell>\n\n                                  { doc.freeParticipantCount > 0 &&\n                                    <Cell multiline>\n                                    <InfoRow style={{ fontSize: 15, color: '#999' }} title={''/*{ `Свободные талоны: ${doc.freeParticipantCount}` }*/}>\n                                    { `Свободные талоны: ${doc.freeParticipantCount}` }\n                                    </InfoRow>\n                                    </Cell>\n                                  }\n                                </List>\n                                {/*<Separator/>*/}\n                                <Div style={{ display: 'flex' }}>\n                                <Button\n                                  stretched\n                                  size=\"l\"\n                                  disabled={/*!(doc.freeTicketCount > 0 || */!doc.freeParticipantCount > 0/*)*/}\n                                  onClick={ () => goDoc(doc) }\n                                  level=\"secondary\">{/*doc.freeTicketCount > 0 ||*/ doc.freeParticipantCount > 0 ? 'Выбрать талон' : 'Доступных талонов нет'}\n                                </Button>\n                                </Div>\n                                {  docs.length - 1 > index && <Separator wide/>}\n                                </Div>\n                              )\n                            }\n                        </>\n                        :\n                        <Div>В данном направлении не найдено врачей.</Div>\n                }\n                </>\n        )\n    }\n}\n\nexport default DocList;\n","import React, {Component} from 'react';\nimport { Panel, PanelHeader, Div, Group, IS_PLATFORM_IOS, Select, FormLayout, HeaderButton } from '@vkontakte/vkui';\n\n//import connect from '@vkontakte/vk-connect';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nimport DocList from '../components/DocList';\n\nclass Clinik extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            clinik: this.props.state.clinik,\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, setParentState, state, getDocs } = this.props;\n\n        const clinik = `Клиника «${state.clinik.lpuShortName}»`;\n\n        const onChange = (e) => {\n          const { name, value } = e.currentTarget;\n          setParentState({ [name]: value });\n          getDocs(state.clinik.id, value);\n        }\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>{clinik}</PanelHeader>\n                   <Group>\n                    <FormLayout>\n                  {\n                    state.specs[0] ?\n                    <Select\n                        placeholder={'Выберите специалиста'}\n                        top={ 'Специалист' }\n                        name=\"spec\"\n                        value={state.spec}\n                        onChange={ onChange }\n                    >\n\n                                {\n                                    state.specs.map((spec, index) =>\n                                    <option key={index} value={spec.id}>{spec.name.toLowerCase()}</option>\n                                  )\n                                }\n\n                    </Select>\n                    : <Div>Произошла внутренняя ошибка сервера</Div>\n                  }\n                   {\n                     state.spec && <DocList clinik2={state.clinik} {...this.props}/>\n                   }\n                    </FormLayout>\n                    </Group>\n            </Panel>\n        );\n    }\n}\n\nexport default Clinik;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, Div, Button, InfoRow, List, Cell, Group, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport moment from 'moment'\n\n//import connect from '@vkontakte/vk-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nrequire('moment/locale/ru');\n\nclass Doc extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            doc: this.props.state.doc,\n            disabled: false,\n            dates: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, goPanel, state, setParentState } = this.props;\n        const doc = this.props.state.doc\n\n        let room = ' ';\n\n        if(doc[0] && doc[0].room){\n           room = `в ${doc[0].room} кабинет`\n        }\n        const goSign = (id, visitDay, visitStart, visitEnd) => {\n          setParentState({\n            dateSign: id,\n            visitInfo:`Приходить ${visitDay} по адресу ${state.clinik.address} ${room}. Приём продлится  с ${moment(visitStart).format('kk:mm')} до ${moment(visitEnd).format('kk:mm')}.`\n           });\n          goPanel('sign');\n        }\n        let day = false;\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Расписание</PanelHeader>\n                   {\n                       (doc && doc.length) ?\n                           <>\n                           <Group>\n                           <List>\n                           {\n                             doc[0].address &&\n                             <Cell multiline>\n                             <InfoRow title='Адрес'>\n                                {doc[0].address}\n                             </InfoRow>\n                             </Cell>\n                           }\n                           {\n                             state.currentDocName &&\n                             <Cell multiline>\n                             <InfoRow title='Врач'>\n                                {state.currentDocName}\n                             </InfoRow>\n                             </Cell>\n                           }\n                            {\n                              doc[0].room &&\n                               <Cell multiline>\n                              <InfoRow title='Кабинет:'>\n                                 {doc[0].room}\n                              </InfoRow>\n                              </Cell>\n                            }\n                           </List>\n                         </Group>\n                          <Group>\n                           {\n                             doc.map((item, index) => (\n                           <Group key={index}>\n\n                           { +item.visitStart.slice(8, 10) !== +day &&\n                           <Group title={ `${day = item.visitStart.slice(8, 10) } ${moment(item.visitStart).format('MMM')} ` }>\n\n\n                             </Group>\n                           }\n                              <Div style={{ display: 'inline-flex', verticalAlign: 'center', alignItems: 'center'}}>\n                              <div style={{ width: '100%' }}>\n                              {`Приём с ${moment(item.visitStart).format('kk:mm')}\n                              до ${moment(item.visitEnd).format('kk:mm')}`}\n                              </div>\n                              <Button\n                                style={{ position: 'absolute', right: '20px' }}\n                                onClick={ () => goSign(item.id, `${day = item.visitStart.slice(8, 10) } ${moment(item.visitStart).format('MMM')} `,\n                                item.visitStart, item.visitEnd)}\n                                level=\"primary\"\n                              >Выбрать\n                              </Button>\n\n                              </Div>\n                           </Group>\n                           ))\n                          }\n                          </Group>\n                           </>\n                           :\n                           <Group><Div align='center'>Талонов не найдено</Div></Group>\n                   }\n            </Panel>\n        );\n    }\n}\n\nexport default Doc;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, FormLayout, Checkbox, Input, Button, Group, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Doc extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            requested: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, setParentState, openDoneSnackbar, openErrorSnackbar, state } = this.props;\n        const pDate = (date = new Date()) => {\n            var dd = date.getDate();\n            if (dd < 10) dd = '0' + dd;\n            var mm = date.getMonth() + 1;\n            if (mm < 10) mm = '0' + mm;\n            var yyyy = date.getFullYear();\n            return yyyy + '-' + mm + '-' + dd;\n        }\n        const regExp = /^([A-Za-z0-9_\\-.])+@([A-Za-z0-9_\\-.])+\\.([A-Za-z]{2,4})$/;\n        const onChange = (e) => {\n          const { name, value } = e.currentTarget;\n          setParentState({ [name]: value });\n          if(name === 'accept') setParentState({ [name]: e.currentTarget.checked });\n        }\n\n\n        const submit = (e) => {\n          if(!state.birthday || !state.first_name || !state.last_name\n             || !state.phone ) {\n              openErrorSnackbar('Вы не заполнили обязательные поля.')\n              return\n            } else if(state.email && !regExp.test(state.email)){\n              openErrorSnackbar('Эл. почта введена неверно.')\n              return\n            } else if(!state.accept) {\n              openErrorSnackbar('Вы не дали согласие на обработку персональных данных.')\n              return\n            }\n\n          console.log({\n            ДатаРождения: state.birthday,\n            Имя: state.first_name,\n            Фамилия: state.last_name,\n            Отчество: state.middle_name,\n            Номер: state.phone,\n            Почта: state.email,\n            Клиника: state.clinik.id,\n            Согласие: state.accept,\n            IDВремениЗаписи: state.dateSign,\n            noty: state.noty\n          });\n\n          this.api.CheckPatient({\n            lpu: state.clinik.id,\n            firstName: state.first_name,\n            lastName: state.last_name,\n            middleName: state.middle_name,\n            birthdate: state.birthday\n          }).then(res => {\n            if(res[0]) {\n                connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n                openDoneSnackbar('Вы успешно записались.');\n                if(state.noty){\n                  let mes = `${state.first_name} ${state.middle_name} ${state.last_name} записан на приём к ${state.currentDocName}.\n                  ${state.visitInfo}`\n                  this.api.Up().then(res => connect.send(\"VKWebAppSendPayload\", {\"group_id\": 190034906, \"payload\": { mes } }))\n                  console.log('noty')\n                }\n            } else {\n              if(res[1]){\n                openErrorSnackbar(res[1], 5000);\n              }\n              connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"error\"});\n            }\n          })\n\n        }\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Запись на приём</PanelHeader>\n                   <Group>\n                   <FormLayout>\n                   <Input\n                       required\n                       type=\"text\"\n                       top={ `Имя` }\n                       name=\"first_name\"\n                       value={state.first_name}\n                       maxLength='20'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"text\"\n                       top={ `Фамилия` }\n                       name=\"last_name\"\n                       value={state.last_name}\n                       maxLength='30'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       type=\"text\"\n                       top={ `Отчество (при наличии)` }\n                       name=\"middle_name\"\n                       value={state.middle_name}\n                       maxLength='30'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"date\"\n                       min=\"1910-01-01\"\n                       max={pDate()}\n                       value={state.birthday}\n                       top={ 'Дата рождения' }\n                       name=\"birthday\"\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"tel\"\n                       top={ `Номер телефона` }\n                       name=\"phone\"\n                       value={state.phone}\n                       readOnly\n                       maxLength='30'\n                       placeholder='+7 (999) 234 5678'\n                       onChange={ onChange }\n                       onClick={() => {\n                           connect.send(\"VKWebAppGetPhoneNumber\", {});\n                       }}\n                   />\n                   <Input\n                       type=\"email\"\n                       top={ `Эл. почта (при наличии)` }\n                       name=\"email\"\n                       value={state.email}\n                       maxLength='30'\n                       placeholder='mymail@gmail.com'\n                       onChange={ onChange }\n                       onClick={() => {\n                         if(!this.state.requested){\n                           connect.send(\"VKWebAppGetEmail\", {})\n                           console.log('VKWebAppGetEmail');\n                           this.setState({ requested: true });\n                         }\n                       }\n                       }\n                   />\n                  <Checkbox\n                      name='accept'\n                      defaultChecked={state.accept}\n                      value={state.accept}\n                      onChange={ onChange }\n                   >Я даю согласие на обработку своих персональных данных (имя, отчество, фамилия, дата рождения, почта, телефон) в соответствии с требованиями Федерального закона №152-ФЗ от 27.07.2006.</Checkbox>\n                   <Checkbox\n                       name='noty'\n                    /*   defaultChecked={state.noty}*/\n                       checked={state.noty}\n                       onChange={ (e) => {\n                         if(e.currentTarget.checked){\n                           console.log('Запросили право на рассылку!)')\n                           connect.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 190034906, \"key\": \"noty\"});\n                         } else setParentState({ noty: false });\n                       } }\n                    >Отправить информацию по записи в личные сообщения</Checkbox>\n                 <Button size=\"xl\" onClick={ submit } level=\"primary\">Записаться</Button>\n                   </FormLayout>\n                    </Group>\n                    {state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Doc;\n","import React, { Component } from 'react';\n\nimport { Panel, PanelHeader, Search, Footer } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\n\nclass SearchPanel extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader>Поиск</PanelHeader>\n                <Search/>\n                <Footer>Введите название медицинского учреждения</Footer>\n            </Panel>\n        );\n    }\n}\n\nexport default SearchPanel;\n","import React from 'react';\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Footer from '@vkontakte/vkui/dist/components/Footer/Footer';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Spinner from '@vkontakte/vkui/dist/components/Spinner/Spinner';\nimport { getMessage } from '../js/helpers';\n\nexport class Offline extends React.Component {\n\n\n    render() {\n        return (\n            <Panel id=\"offline\" theme=\"white\">\n              <PanelHeader>{/*Проблемы*/}</PanelHeader>\n                <Div>\n                    <Footer style={{ marginTop: '50%' }} >{ getMessage('no_internet') }</Footer>\n                    <Spinner/>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nexport default Offline;\n","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport { View, ScreenSpinner, ConfigProvider, /*TabbarItem, Tabbar,*/ Epic, Avatar, Snackbar } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport './css/App.css';\n\nimport API from './js/api';\nimport { showAlert } from './js/helpers';\n\n//import Icon24Search from '@vkontakte/icons/dist/24/search';\n//import Icon24List from '@vkontakte/icons/dist/24/list';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\n\nimport Home from './panels/Home';\nimport District from './panels/District';\nimport Map from './panels/Map';\nimport Clinik from './panels/Clinik';\nimport Doc from './panels/Doc';\nimport SignUp from './panels/SignUp';\nimport Search from './panels/Search';\nimport Offline from './panels/Offline';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'districts',\n\t\t\tactiveStory: 'home',\n\t\t\thistory: [\"districts\"],\n\t\t\tfetchedUser: {\n\t\t\t\tfirst_name: 'Test',\n\t\t\t\tlast_name: 'User'\n\t\t\t},\n\t\t\tpopout: null,\n\t\t\tsnackbar: null,\n\t\t\toffline: false,\n\t\t\tdistricts: false,\n\t\t\tdistrict: false,\n\t\t\tcliniks: false,\n\t\t\tclinik: false,\n\t\t\tspecs: false,\n\t\t\tdoc: false,\n\t\t\tdocs: false,\n\t\t\tcurrentDistrictId: false,\n\t\t\tuserDistricts: false,\n\t\t\tdateSign: '',\n\t\t\tvisitInfo: '',\n\t\t\tbirthday: '',\n\t\t\tphone: '',\n\t\t\tfirst_name: '',\n\t\t\tlast_name: '',\n\t\t\temail: '',\n\t\t\tmiddle_name: '',\n\t\t\taccept: '',\n\t\t\tnoty: '',\n\t\t\tlat: '',\n\t\t\tlong: ''\n\t\t};\n\n\t\tthis.initApp();\n\n\t\tthis.onStoryChange \t= this.onStoryChange.bind(this);\n\t}\n\n\t\tinitApp = () => {\n\n\t\twindow.showOfflinePage = (e) => {\n            this.setState({ offline: e });\n\t\t};\n\n\t\twindow.showAlert = (message, title, actions) => {\n            showAlert(this.setState.bind(this), message, title, actions);\n\t\t};\n\n\t\twindow.showLoader = (show) => {\n            this.setState({ popout: show ? <ScreenSpinner /> : null });\n\t\t};\n\n\t\tthis.api = new API();\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.goBack(e);\n\t\t});\n\t\twindow.history.pushState({ panel: 'districts' }, `districts`)\n\t\tconnect.subscribe((e) => {\n\t\t\tif(e.detail.data) console.log(e.detail.type, e.detail.data)\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfetchedUser: e.detail.data,\n\t\t\t\t\t\tlast_name: e.detail.data.last_name,\n\t\t\t\t\t\tfirst_name: e.detail.data.first_name\n\t\t\t\t\t });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppUpdateConfig':\n\t\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGetPhoneNumberResult':\n\t\t\t\t\tconnect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n\t\t\t\t\tthis.setState({ phone: e.detail.data.phone_number });\n\t\t\t\t\tconsole.log(this.state)\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppAllowMessagesFromGroupResult':\n\t\t\t\t\tthis.setState({ noty: e.detail.data.result });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGetEmailResult':\n\t\t\t\t\tconnect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n\t\t\t\t\tthis.setState({ email: e.detail.data.email });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppViewHide':\n\t\t\t\t\twindow.showLoader(false);\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppCopyTextResult':\n\t\t\t\t\tthis.openDoneSnackbar('Скопировано');\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGeodataResult':\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tactivePanel: 'map',\n\t\t\t\t\t\tlat: e.detail.data.lat,\n\t\t\t\t\t\tlong: e.detail.data.long,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGeodataFailed':\n\t\t\t\t\tthis.openErrorSnackbar('Доступ к геолокации запрещён.')\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// code\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t\tsetInterval(() => this.checkOnline(), 1500)\n\t\tthis.getDistricts()\n\t}\n\tonStoryChange = (story, panel) => {\n\t\t\tthis.setState({\n\t\t\t\tactiveStory: story,\n\t\t\t\tactivePanel: panel\n\t\t\t});\n\t}\n\tgoPanel = (panel) => {\n\t\t\tif(panel === 'home'){\n\t\t\t\tthis.setState({ cliniks: false });\n\t\t\t}\n        window.history.pushState({ panel: panel }, panel)\n        this.setState({\n            activePanel: panel,\n            history: [...this.state.history, panel]\n        });\n    }\n\tgoBack = () => {\n\t\t\t this.setState({ snackbar: null });\n\t\t\t window.showLoader(false);\n\t\t\t let history = [...this.state.history];\n\t     history.pop();\n\t     let activePanel = history[history.length - 1];\n\t\t\t if(!activePanel) activePanel = 'districts';\n\t     if (activePanel === 'districts') {\n\t       connect.send('VKWebAppDisableSwipeBack');\n\t     } else if(activePanel === 'district'){\n\t\t\t\t this.setState({ spec: false });\n\t\t\t } else if (activePanel === 'home'){\n\t\t\t\t this.setState({ cliniks: false });\n\t\t\t }\n\t\t\t if(history.length === 0) {\n\t\t\t\t connect.send(\"VKWebAppClose\", { \"status\": \"success\", \"text\": \"Не болейте!\" });\n\t\t\t\t console.log('close')\n\t\t\t }\n\t     this.setState({ history, activePanel });\n   }\n\tcheckOnline = e => {\n\t\tif(window.navigator.onLine){\n\t\t\twindow.showOfflinePage(false)\n\t\t} else window.showOfflinePage(true)\n\t}\n\n\tgetDistricts = async (id) => {\n\t\t\tthis.setState({ districts: false });\n\t\t\tconst districts = await this.api.GetDistricts(id);\n\t\t\tthis.setState({ districts });\n\t}\n\tgetDistrict = async (id, goPanel = true) => {\n\t\t\tconst cliniks = await this.api.GetDistrict(id);\n\t\t\tthis.setState({ cliniks });\n\t}\n\tgetSpecs = async (id, goPanel = true) => {\n\t\t\twindow.showLoader(true);\n\t\t\tthis.setState({ specs: false });\n\t\t\tconst specs = await this.api.GetSpecs(id);\n\t\t\tthis.setState({ specs });\n\t\t\twindow.showLoader(false);\n\t\t\tif(goPanel) this.goPanel('clinik')\n\t}\n\tgetDocs = async (lpu, spec) => {\n\t\t\tthis.setState({ docs: false });\n\t\t\tconst docs = await this.api.GetDocs(lpu, spec)\n\t\t\tthis.setState({ docs });\n\t\t\twindow.showLoader(false);\n\t}\n\tgetDoc = async (lpu, docId) => {\n\t\t\twindow.showLoader(true);\n\t\t\tthis.setState({ doc: false });\n\t\t\tconst doc = await this.api.GetDoc(lpu, docId)\n\t\t\tthis.setState({ doc });\n\t\t\twindow.showLoader(false);\n\t\t\tif(doc.length !== 0){\n\t\t\t\tthis.goPanel('doc');\n\t\t\t} else this.openErrorSnackbar('Произошла ошибка');\n\t}\n \topenDoneSnackbar = e => {\n\t\tthis.setState({\n\t\t\tsnackbar: <Snackbar\n\t\t\t\t\t\t\t\t\t\tduration={2000}\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{ backgroundColor: '#4bb34b' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\topenErrorSnackbar = (e, time = 2000) => {\n\t\tthis.setState({\n\t\t\tsnackbar: <Snackbar\n\t\t\t\t\t\t\t\t\t\tduration={time}\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{backgroundColor: '#FF0000'}}><Icon16Clear fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst { api, state, goPanel, goBack, onStoryChange, openDoneSnackbar,\n\t\t\topenErrorSnackbar, getDistricts, getDistrict, getSpecs, getDocs, getDoc } = this;\n\n\t\tconst { offline, popout, activeStory, specs, districts, activePanel, fetchedUser, docs } = this.state;\n\t\tconst props = { api, state, openDoneSnackbar, openErrorSnackbar, activeStory,\n\t\t\t getDistricts, districts, specs, docs, goBack, goPanel, onStoryChange,\n\t\t\t getSpecs, getDistrict, getDocs, getDoc, fetchedUser, setParentState: this.setState.bind(this) };\n\n\t\tconst views = { popout, activePanel, };\n\n\t\treturn (\n\t\t\t<ConfigProvider isWebView={true}>\n\t\t\t\t{\n\t\t\t\t\toffline ?\n\t\t\t\t\t\t<View id=\"offline\" popout={ popout } activePanel=\"offline\">\n\t\t\t\t\t\t\t<Offline id=\"offline\" { ...props } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Epic activeStory={ activeStory }/* tabbar={\n\n\t\t\t\t\t\t  <Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ () => this.setState({\n\t\t\t\t\t\t\t\t\tactivePanel: 'districts',\n\t\t\t\t\t\t\t\t\tactiveStory: 'home'\n\t\t\t\t\t\t\t\t}) }\n\t\t\t\t\t\t\t\tselected={ activeStory === 'home' }\n\t\t\t\t\t\t\t><Icon24List /></TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ () => this.setState({\n\t\t\t\t\t\t\t\t\tactivePanel: 'search',\n\t\t\t\t\t\t\t\t\tactiveStory: 'search'\n\t\t\t\t\t\t\t\t}) }\n\t\t\t\t\t\t\t\tselected={ activeStory === 'search' }\n\t\t\t\t\t\t\t><Icon24Search /></TabbarItem>\n\t\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t\t}*/>\n\n\t\t\t\t\t\t\t\t<View id=\"search\" popout={ popout } activePanel=\"search\">\n\t\t\t\t\t\t\t\t\t<Search id=\"search\" { ...props } />\n\t\t\t\t\t\t\t\t</View>\n\n\t\t\t\t\t\t\t\t <View id=\"home\" \tonSwipeBack={this.goBack} history={this.state.history} { ...views } >\n\t\t\t\t\t\t\t\t\t<Home id=\"districts\" { ...props } />\n\t\t\t\t\t\t\t\t\t<District id=\"district\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Map id=\"map\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Clinik id=\"clinik\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Doc id=\"doc\" { ...props } />\n\t\t\t\t\t\t\t\t\t<SignUp id=\"sign\" { ...props } />\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</Epic>\n\n\t\t\t\t}\n\t\t\t</ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\n// import registerServiceWorker from './sw';\n\nconst root = document.getElementById('root');\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\nmVKMiniAppsScrollHelper(root);\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, root);\n"],"sourceRoot":""}