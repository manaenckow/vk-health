{"version":3,"sources":["js/messages.js","js/helpers.js","js/api.js","components/DistrictList.js","panels/Home.js","components/ClinikList.js","panels/District.js","panels/Map.js","components/DocList.js","panels/Clinik.js","panels/Doc.js","panels/SignUp.js","panels/Search.js","panels/Offline.js","App.js","index.js"],"names":["messages","not_class_api","server_offline","no_internet","wtf","oops","home_panel_title","clinik_button","map_clinik_button","email","desk","lpuType","lpuFullName","phone","adress","forms","add","save","submit","isDev","window","location","hash","isLocal","port","getMessage","k","d","showAlert","setState","title","message","actions","autoclose","style","loader","disable","popout","react_default","a","createElement","es6","actionsLayout","onClose","dd","_console","console","log","apply","arguments","axios","defaults","headers","common","Accept","API","url","method","action","data","concat","catch","error","response","this","send","lpu","lastName","firstName","middleName","birthdate","success","districtId","result","specId","docId","DistrictList","_this","districts","props","className","length","Fragment","map","district","index","expandable","onClick","e","_this$props","setParentState","goPanel","cliniks","goDistrict","key","name","Component","Home","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","api","id","components_DistrictList","assign","snackbar","ClinikList","clinik","marginTop","text","address","split","splice","join","connect","multiline","target","href","startsWith","display","stretched","size","getSpecs","goClinik","level","marginLeft","_this$props2","lat","latitide","long","longitude","goMap","District","disabled","getDistrict","goBack","left","IS_PLATFORM_IOS","chevron_back_default","back_default","components_ClinikList","MapW","loading","_this2","react_yandex_maps_esm","onLoad","width","height","defaultState","center","zoom","geometry","options","float","DocList","docs","doc","fontSize","color","freeParticipantCount","getDoc","clinik2","currentDocName","goDoc","wide","Clinik","getDocs","lpuShortName","specs","placeholder","top","value","spec","onChange","_e$currentTarget","currentTarget","defineProperty","toLowerCase","components_DocList","require","Doc","dates","room","day","item","visitStart","slice","moment","format","verticalAlign","alignItems","visitEnd","position","right","visitDay","dateSign","visitInfo","align","requested","openDoneSnackbar","openErrorSnackbar","regExp","checked","required","type","first_name","maxLength","last_name","middle_name","min","max","date","undefined","Date","getDate","mm","getMonth","getFullYear","pDate","birthday","readOnly","defaultChecked","accept","noty","group_id","test","ДатаРождения","Имя","Фамилия","Отчество","Номер","Почта","Клиника","Согласие","IDВремениЗаписи","CheckPatient","then","res","mes","Up","payload","SearchPanel","Offline","_React$Component","inherits","createClass","Panel_default","theme","PanelHeader_default","Div_default","Footer_default","Spinner_default","React","App","initApp","showOfflinePage","offline","bind","assertThisInitialized","showLoader","show","onStoryChange","story","panel","activeStory","activePanel","history","pushState","toConsumableArray","pop","status","checkOnline","navigator","onLine","getDistricts","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","GetDistricts","sent","stop","_x","_ref2","_callee2","_args2","_context2","GetDistrict","_x2","_ref3","_callee3","_args3","_context3","GetSpecs","_x3","_ref4","_callee4","_context4","GetDocs","_x4","_x5","_ref5","_callee5","_context5","GetDoc","_x6","_x7","duration","layout","before","backgroundColor","done_default","fill","time","clear_default","fetchedUser","currentDistrictId","userDistricts","addEventListener","preventDefault","subscribe","detail","schemeAttribute","document","createAttribute","scheme","body","attributes","setNamedItem","phone_number","setInterval","_this$state","views","isWebView","panels_Offline","Search","onSwipeBack","src_panels_Home","panels_District","Map","panels_Clinik","panels_Doc","SignUp","root","getElementById","mVKMiniAppsScrollHelper","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.79969856.chunk.js","sourcesContent":["export const messages = {\n    not_class_api: \"Проблема с API\",\n    server_offline: \"Сервер не отвечает\",\n    no_internet: \"Ожидание интернет-соединения\",\n    wtf: \"Повторите попытку позднее\",\n    oops: \"Упс...\",\n\n    home_panel_title: \"Запись к врачу\",\n    clinik_button: \"Записаться сюда\",\n    map_clinik_button: 'Показать на карте',\n\n    email: \"Эл. почта\",\n    desk: \"Описание\",\n    lpuType: \"Тип\",\n    lpuFullName: \"Название\",\n    phone: 'Телефонный номер',\n    adress: \"Адрес\",\n\n    forms: {\n        add: \"Добавить\",\n        save: \"Сохранить\",\n        submit: \"Отправить\"\n    }\n};\n","import { messages } from \"./messages\";\nimport React from 'react';\nimport { Alert } from '@vkontakte/vkui';\n// import connect from '@vkontakte/vk-connect';\n\nexport const isDev = (window.location.hash === '#debug') ? true : false;\nexport const isLocal = (window.location.port === '8080') ? true : false;\n\nexport const sleep = async (time) => {\n    return new Promise((resolve) => {\n        setTimeout(() => {\n            resolve();\n        }, time);\n    });\n};\n\nexport const initLazyLoad = () => {\n    window.onscroll = () => {\n        const moreButton = document.getElementById('lazy-more');\n\n        if (moreButton && moreButton.disabled === false) {\n            if ((window.innerHeight + window.scrollY) >= (document.body.scrollHeight - 300)) {\n                moreButton.click();\n            }\n        }\n    };\n};\n\nexport const getMessage = (k, d) => {\n    if (messages && messages[k]) {\n        return messages[k];\n    } else {\n        return d || '—';\n    }\n}\n\nexport const showAlert = (setState, title, message, actions) => {\n    actions = actions ? actions : [{\n        title: 'Ок',\n        autoclose: true,\n        style: 'cancel'\n    }];\n\n    setState({\n        loader: null,\n        disable: false,\n        popout: <Alert\n                    actionsLayout=\"vertical\"\n                    actions={actions}\n                    onClose={ () => {\n                        setState({ popout: null })\n                    }}\n                >\n                    { title ? <h2>{ title }</h2> : <h2>{ getMessage('oops') }</h2> }\n                    <p>{ message || getMessage('wtf') }</p>\n                </Alert>\n    });\n}\n\nexport const formatNumber = (number) => {\n     if (number === null) return 0;\n  return `${number}`.replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ');\n};\n\nexport const shortNumber = count => {\n  if(count > 1000){\n    return formatNumber(Math.floor(count/1000)) + 'K участников'\n  } else if(count > 0){\n    return `${count} участников`\n  } else return 'Участников нет'\n}\n\nexport const dd = (...m) => {\n    if (isDev || isLocal) console.log(...m);\n}\n","import axios from 'axios';\n\nimport { dd, getMessage } from './helpers';\n\naxios.defaults.headers.common = {\n    Accept: \"application/json, text/plain, */*\"\n}\n\nexport default class API {\n\n    async send(url, method = 'GET', action, data = {}) {\n        const response = await axios({\n            method,\n            url: `${url}${action}`,\n            data\n        }).catch(error => {\n            dd('Error API:', error);\n            window.showAlert(getMessage('server_offline'));\n          //  return { \"status\": false, \"failed\": error.response.data.message }\n        });\n        return response ? response.data : [];\n    }\n\n    async CheckPatient(data) {\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${data.lpu}/patient?lastName=${data.lastName}&firstName=${data.firstName}${data.middleName && `&middleName=${data.middleName}`}&birthdate=${data.birthdate}T00:00:00Z`, null);\n        dd('API: ', 'CheckPatient', response);\n\n        return [response.success, response.message];\n    }\n\n    async GetDistrict(districtId) {\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `district/${districtId}/lpu`, null);\n        dd('API: ', 'GetDistrict', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n    async GetSpecs(lpu) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/speciality`, null);\n        dd('API: ', 'GetSpecs', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n    async GetDocs(lpu, specId) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/doctor?specialityId=${specId}`, null);\n        dd('API: ', 'GetDocs', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async GetDoc(lpu, docId) {\n\n        const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/';\n\n        let response = await this.send(API_URL, 'GET', `lpu/${lpu}/appointment?doctorId=${docId}`, null);\n        dd('API: ', 'GetDoc', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async Up() {\n\n        const API_URL \t= 'https://cors-anywhere.herokuapp.com/https://roan-nigella.glitch.me/';\n\n        let response = await this.send(API_URL, 'GET', ``, null);\n        dd('API: ', 'Up', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n    async GetDistricts() {\n      const API_URL \t= 'https://beta.gorzdrav.spb.ru/_api/api/district';\n      var response = await this.send(API_URL, 'GET', ``, null);\n\n        dd('API: ', 'GetDistricts', response.result);\n\n        if(response.success){\n          return response.result;\n        } else return [];\n    }\n\n}\n","import React, { Component } from 'react';\nimport { Group, Cell, Div, Spinner } from '@vkontakte/vkui';\n\nclass DistrictList extends Component {\n\n    render() {\n\n        const { districts } = this.props;\n\n        const goDistrict = e => {\n        const { setParentState, goPanel } = this.props;\n\n        setParentState({\n          district: e,\n          cliniks: false\n         });\n        goPanel('district');\n      }\n\n        return (\n            <Group className=\"transparentBody DistrictsList\">\n              <Group title=\"Выберите свой район\">\n                {\n                    (districts && districts.length) ?\n                        <>\n                            {\n                                districts.map((district, index) =>\n\n                              <Cell expandable onClick={() => goDistrict(district)} district={district} key={index}>{district.name}</Cell>\n\n                              )\n                            }\n                        </>\n                        :\n                        <Div><Spinner /></Div>\n                }\n            </Group>\n            </Group>\n        )\n    }\n}\n\nexport default DistrictList;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, Footer /* HeaderButton */} from '@vkontakte/vkui';\n\n//import connect from '@vkontakte/vk-connect';\nimport { getMessage } from '../js/helpers';\n\nimport DistrictList from '../components/DistrictList';\n\n//import Icon24Place from '@vkontakte/icons/dist/24/place';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Home extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            districts: this.props.districts\n        };\n\n        this.api = this.props.api;\n    }\n\n    render() {\n        const { id, setParentState } = this.props;\n\n      /*  const onenGeoMap = e => {\n          connect.send(\"VKWebAppGetGeodata\", {});\n        }*/\n        return (\n            <Panel id={id}>\n                <PanelHeader /*left={\n                  <HeaderButton onClick={ onenGeoMap }>\n\t\t\t               <Icon24Place/>\n\t\t               </HeaderButton>}*/>{ getMessage('home_panel_title') }</PanelHeader>\n                        <DistrictList\n                            {...this.props}\n                            districts={ this.props.districts }\n                            setParentState={ setParentState }\n                        />\n                        <Footer>version 3</Footer>\n                \t{this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Group, Div, Cell, List, Link, Button, Spinner, Separator, InfoRow } from '@vkontakte/vkui';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport { getMessage } from '../js/helpers';\nimport '../css/App.css';\n\nclass ClinikList extends Component {\n\n    render() {\n\n        const { cliniks } = this.props;\n\n        if(!cliniks) return <Div><Spinner/></Div>\n        const goClinik = e => {\n        const { setParentState, getSpecs } = this.props;\n\n        setParentState({ clinik: e });\n        getSpecs(e.id)\n      }\n\n      const goMap = e => {\n      const { setParentState, goPanel } = this.props;\n\n      setParentState({\n        lat: e.latitide,\n        long: e.longitude,\n      });\n\n      goPanel('map');\n    }\n\n        return (\n          <>\n                {\n                    (cliniks && cliniks.length) ?\n                        <>\n                          <Group title=\"Выберите поликлинику\"/>\n                            {\n                                cliniks.map((clinik, index) =>\n                                <Group style={{ marginTop: 10 }} key={index} title={clinik.lpuFullName}>\n                                <List>\n                                  <Cell\n                                      onClick={() => {\n                                        let text = clinik.address.split(',').splice(1).join(',');\n                                        connect.send(\"VKWebAppCopyText\", { text: text });\n                                      }}\n                                      multiline\n                                    >\n                                  <InfoRow title={ getMessage('adress') }>\n                                    {clinik.address.split(',').splice(1).join(',')}\n                                  </InfoRow>\n                                  </Cell>\n                                  {/*\n                                    <Cell multiline>\n                                        <InfoRow title={ getMessage('desk') }>\n                                          {clinik.description}\n                                        </InfoRow>\n                                      </Cell>\n                                  */}\n                                  <Cell multiline>\n                                    <InfoRow title={ getMessage('phone') }>\n                                      <Link target='_blank' href={clinik.phone.startsWith('(') ? `tel:+7${clinik.phone}` : `tel:${clinik.phone}`}>\n                                      {clinik.phone.startsWith('(') ? `+7 ${clinik.phone}` : clinik.phone}\n                                      </Link>\n                                    </InfoRow>\n                                  </Cell>\n                                  {\n                                    clinik.email !== null &&\n                                    <Cell multiline>\n                                    <InfoRow title={ getMessage('email') }>\n                                    <Link target='_blank' href={`mailto:${clinik.email}`}>\n                                      {clinik.email}\n                                      </Link>\n                                    </InfoRow>\n                                  </Cell>\n                                }\n                                  <Cell multiline>\n                                    <InfoRow title={ getMessage('lpuType') }>\n                                      {clinik.lpuType ? clinik.lpuType : 'Неизвестно'}\n                                    </InfoRow>\n                                  </Cell>\n                                </List>\n                                <Separator/>\n                                <Div style={{ display: 'flex' }}>\n                                <Button stretched size=\"l\" onClick={ () => goClinik(clinik) } level=\"primary\">{getMessage('clinik_button')}</Button>\n                                <Button style={{ marginLeft: 5 }} stretched size=\"l\" onClick={ () =>  goMap(clinik) } level=\"secondary\">{getMessage('map_clinik_button')}</Button>\n                                </Div>\n                              </Group>\n\n\n                              )\n                            }\n                        </>\n                        :\n                        <Group><Div>В данном районе не найдено ни одной поликлиники</Div></Group>\n                }\n                </>\n        )\n    }\n}\n\nexport default ClinikList;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader,  IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport CliniktList from '../components/ClinikList';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass District extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            district: this.props.state.district,\n            cliniks: this.props.state.cliniks,\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {\n        this.props.getDistrict(this.state.district.id, false);\n    }\n\n    render() {\n        const { id, goBack, setParentState} = this.props;\n\n        const district = `${this.state.district.name} р-н`;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>{district}</PanelHeader>\n                    <CliniktList\n                    {...this.props}\n                    cliniks={ this.props.state.cliniks }\n                    setParentState={ setParentState }\n                    />\n                    {this.props.state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default District;\n","import React, { Component } from 'react';\n\nimport { Panel, PanelHeader, Spinner, Div, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\nimport { YMaps, Map, Placemark, ZoomControl } from 'react-yandex-maps';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\n\nclass MapW extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            loading: true\n        };\n\n        this.api = this.props.api;\n    }\n\n//    componentDidMount() {}\n    render() {\n        const { id, goBack, state } = this.props;\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Карта</PanelHeader>\n\n                    { this.state.loading && <Div><Spinner/></Div> }\n\n                   <YMaps>\n                   <Map className={ IS_PLATFORM_IOS ? 'MapsCssIOS' : 'MapsCssAndroid'} onLoad={() => this.setState({ loading: false }) } width=\"100vw\" height=\"100vh\" defaultState={{ center: [state.lat, state.long], zoom: 14 }} >\n\n                   <Placemark  geometry={[state.lat, state.long]} />\n                   <ZoomControl options={{ float: 'right' }} />\n\n                   </Map>\n                   </YMaps>\n            </Panel>\n        );\n    }\n}\n\nexport default MapW;\n","import React, { Component } from 'react';\nimport { Div, Cell, List, Spinner, Button, Separator, InfoRow } from '@vkontakte/vkui';\n\nimport '../css/App.css';\n\nclass DocList extends Component {\n\n    render() {\n\n        const { docs } = this.props;\n\n        if(!docs) return <Spinner/>\n        const goDoc = e => {\n        const { setParentState, getDoc, clinik2 } = this.props;\n        getDoc(clinik2.id, e.id);\n        setParentState({\n          doc: e,\n          currentDocName: e.name\n          });\n      }\n        return (\n          <>\n                {/*\n                  docs &&   <Group title=\"Выберите доктора\"/>\n                */}\n                {\n                    (docs && docs.length) ?\n                        <>\n                            {\n                                docs.map((doc, index) =>\n                                <Div key={index}>\n                                <List>\n                                  <Cell multiline>\n                                  <InfoRow style={{ fontSize: 15 , color: '#999'}} title={''/*{ `Врач: ${doc.name}` }*/}>\n                                  { `Врач: ${doc.name}` }\n                                  </InfoRow>\n                                  </Cell>\n\n                                  { doc.freeParticipantCount > 0 &&\n                                    <Cell multiline>\n                                    <InfoRow style={{ fontSize: 15, color: '#999' }} title={''/*{ `Свободные талоны: ${doc.freeParticipantCount}` }*/}>\n                                    { `Свободные талоны: ${doc.freeParticipantCount}` }\n                                    </InfoRow>\n                                    </Cell>\n                                  }\n                                </List>\n                                {/*<Separator/>*/}\n                                <Div style={{ display: 'flex' }}>\n                                <Button\n                                  stretched\n                                  size=\"l\"\n                                  disabled={/*!(doc.freeTicketCount > 0 || */!doc.freeParticipantCount > 0/*)*/}\n                                  onClick={ () => goDoc(doc) }\n                                  level=\"secondary\">{/*doc.freeTicketCount > 0 ||*/ doc.freeParticipantCount > 0 ? 'Выбрать талон' : 'Доступных талонов нет'}\n                                </Button>\n                                </Div>\n                                {  docs.length - 1 > index && <Separator wide/>}\n                                </Div>\n                              )\n                            }\n                        </>\n                        :\n                        <Div>В данном направлении не найдено врачей.</Div>\n                }\n                </>\n        )\n    }\n}\n\nexport default DocList;\n","import React, {Component} from 'react';\nimport { Panel, PanelHeader, Div, Group, IS_PLATFORM_IOS, Select, FormLayout, HeaderButton } from '@vkontakte/vkui';\n\n//import connect from '@vkontakte/vk-connect';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nimport DocList from '../components/DocList';\n\nclass Clinik extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            clinik: this.props.state.clinik,\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, setParentState, state, getDocs } = this.props;\n\n        const clinik = `Клиника «${state.clinik.lpuShortName}»`;\n\n        const onChange = (e) => {\n          const { name, value } = e.currentTarget;\n          setParentState({ [name]: value });\n          getDocs(state.clinik.id, value);\n        }\n\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>{clinik}</PanelHeader>\n                   <Group>\n                    <FormLayout>\n                  {\n                    state.specs[0] ?\n                    <Select\n                        placeholder={'Выберите специалиста'}\n                        top={ 'Специалист' }\n                        name=\"spec\"\n                        value={state.spec}\n                        onChange={ onChange }\n                    >\n\n                                {\n                                    state.specs.map((spec, index) =>\n                                    <option key={index} value={spec.id}>{spec.name.toLowerCase()}</option>\n                                  )\n                                }\n\n                    </Select>\n                    : <Div>Произошла внутренняя ошибка сервера</Div>\n                  }\n                   {\n                     state.spec && <DocList clinik2={state.clinik} {...this.props}/>\n                   }\n                    </FormLayout>\n                    </Group>\n            </Panel>\n        );\n    }\n}\n\nexport default Clinik;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, Div, Button, InfoRow, List, Cell, Group, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport moment from 'moment'\n\n//import connect from '@vkontakte/vk-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nrequire('moment/locale/ru');\n\nclass Doc extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            doc: this.props.state.doc,\n            disabled: false,\n            dates: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, goPanel, state, setParentState } = this.props;\n        const doc = this.props.state.doc\n\n        let room = ' ';\n\n        if(doc[0] && doc[0].room){\n           room = `в ${doc[0].room} кабинет`\n        }\n        const goSign = (id, visitDay, visitStart, visitEnd) => {\n          setParentState({\n            dateSign: id,\n            visitInfo:`Приходить ${visitDay} по адресу ${state.clinik.address} ${room}. Приём продлится  с ${moment(visitStart).format('kk:mm')} до ${moment(visitEnd).format('kk:mm')}.`\n           });\n          goPanel('sign');\n        }\n        let day = false;\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Расписание</PanelHeader>\n                   {\n                       (doc && doc.length) ?\n                           <>\n                           <Group>\n                           <List>\n                           {\n                             doc[0].address &&\n                             <Cell multiline>\n                             <InfoRow title='Адрес'>\n                                {doc[0].address}\n                             </InfoRow>\n                             </Cell>\n                           }\n                           {\n                             state.currentDocName &&\n                             <Cell multiline>\n                             <InfoRow title='Врач'>\n                                {state.currentDocName}\n                             </InfoRow>\n                             </Cell>\n                           }\n                            {\n                              doc[0].room &&\n                               <Cell multiline>\n                              <InfoRow title='Кабинет:'>\n                                 {doc[0].room}\n                              </InfoRow>\n                              </Cell>\n                            }\n                           </List>\n                         </Group>\n                          <Group>\n                           {\n                             doc.map((item, index) => (\n                           <Group key={index}>\n\n                           { +item.visitStart.slice(8, 10) !== +day &&\n                           <Group title={ `${day = item.visitStart.slice(8, 10) } ${moment(item.visitStart).format('MMM')} ` }>\n\n\n                             </Group>\n                           }\n                              <Div style={{ display: 'inline-flex', verticalAlign: 'center', alignItems: 'center'}}>\n                              <div style={{ width: '100%' }}>\n                              {`Приём с ${moment(item.visitStart).format('kk:mm')}\n                              до ${moment(item.visitEnd).format('kk:mm')}`}\n                              </div>\n                              <Button\n                                style={{ position: 'absolute', right: '20px' }}\n                                onClick={ () => goSign(item.id, `${day = item.visitStart.slice(8, 10) } ${moment(item.visitStart).format('MMM')} `,\n                                item.visitStart, item.visitEnd)}\n                                level=\"primary\"\n                              >Выбрать\n                              </Button>\n\n                              </Div>\n                           </Group>\n                           ))\n                          }\n                          </Group>\n                           </>\n                           :\n                           <Group><Div align='center'>Талонов не найдено</Div></Group>\n                   }\n            </Panel>\n        );\n    }\n}\n\nexport default Doc;\n","import React, { Component } from 'react';\nimport { Panel, PanelHeader, FormLayout, Checkbox, Input, Button, Group, IS_PLATFORM_IOS, HeaderButton } from '@vkontakte/vkui';\n\nimport connect from '@vkontakte/vk-connect';\n\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\nclass Doc extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            requested: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n        const { id, goBack, setParentState, openDoneSnackbar, openErrorSnackbar, state } = this.props;\n        const pDate = (date = new Date()) => {\n            var dd = date.getDate();\n            if (dd < 10) dd = '0' + dd;\n            var mm = date.getMonth() + 1;\n            if (mm < 10) mm = '0' + mm;\n            var yyyy = date.getFullYear();\n            return yyyy + '-' + mm + '-' + dd;\n        }\n        const regExp = /^([A-Za-z0-9_\\-.])+@([A-Za-z0-9_\\-.])+\\.([A-Za-z]{2,4})$/;\n        const onChange = (e) => {\n          const { name, value } = e.currentTarget;\n          setParentState({ [name]: value });\n          if(name === 'accept') setParentState({ [name]: e.currentTarget.checked });\n        }\n\n\n        const submit = (e) => {\n          if(!state.birthday || !state.first_name || !state.last_name\n             || !state.phone ) {\n              openErrorSnackbar('Вы не заполнили обязательные поля.')\n              return\n            } else if(state.email && !regExp.test(state.email)){\n              openErrorSnackbar('Эл. почта введена неверно.')\n              return\n            } else if(!state.accept) {\n              openErrorSnackbar('Вы не дали согласие на обработку персональных данных.')\n              return\n            }\n\n          console.log({\n            ДатаРождения: state.birthday,\n            Имя: state.first_name,\n            Фамилия: state.last_name,\n            Отчество: state.middle_name,\n            Номер: state.phone,\n            Почта: state.email,\n            Клиника: state.clinik.id,\n            Согласие: state.accept,\n            IDВремениЗаписи: state.dateSign,\n            noty: state.noty\n          });\n\n          this.api.CheckPatient({\n            lpu: state.clinik.id,\n            firstName: state.first_name,\n            lastName: state.last_name,\n            middleName: state.middle_name,\n            birthdate: state.birthday\n          }).then(res => {\n            if(res[0]) {\n                connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n                openDoneSnackbar('Вы успешно записались.');\n                if(state.noty){\n                  let mes = `${state.first_name} ${state.middle_name} ${state.last_name} записан на приём к ${state.currentDocName}.\n                  ${state.visitInfo}`\n                  this.api.Up().then(res => connect.send(\"VKWebAppSendPayload\", {\"group_id\": 190034906, \"payload\": { mes } }))\n                  console.log('noty')\n                }\n            } else {\n              if(res[1]){\n                openErrorSnackbar(res[1], 5000);\n              }\n              connect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"error\"});\n            }\n          })\n\n        }\n        return (\n            <Panel id={id}>\n                <PanelHeader left={\n                  <HeaderButton onClick={() => goBack()}>\n\t\t\t               {IS_PLATFORM_IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t               </HeaderButton>}>Запись на приём</PanelHeader>\n                   <Group>\n                   <FormLayout>\n                   <Input\n                       required\n                       type=\"text\"\n                       top={ `Имя` }\n                       name=\"first_name\"\n                       value={state.first_name}\n                       maxLength='20'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"text\"\n                       top={ `Фамилия` }\n                       name=\"last_name\"\n                       value={state.last_name}\n                       maxLength='30'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       type=\"text\"\n                       top={ `Отчество (при наличии)` }\n                       name=\"middle_name\"\n                       value={state.middle_name}\n                       maxLength='30'\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"date\"\n                       min=\"1910-01-01\"\n                       max={pDate()}\n                       value={state.birthday}\n                       top={ 'Дата рождения' }\n                       name=\"birthday\"\n                       onChange={ onChange }\n                   />\n                   <Input\n                       required\n                       type=\"tel\"\n                       top={ `Номер телефона` }\n                       name=\"phone\"\n                       value={state.phone}\n                       readOnly\n                       maxLength='30'\n                       placeholder='+7 (999) 234 5678'\n                       onChange={ onChange }\n                       onClick={() => {\n                           connect.send(\"VKWebAppGetPhoneNumber\", {});\n                       }}\n                   />\n                   <Input\n                       type=\"email\"\n                       top={ `Эл. почта (при наличии)` }\n                       name=\"email\"\n                       value={state.email}\n                       maxLength='30'\n                       placeholder='mymail@gmail.com'\n                       onChange={ onChange }\n                       onClick={() => {\n                         if(!this.state.requested){\n                           connect.send(\"VKWebAppGetEmail\", {})\n                           console.log('VKWebAppGetEmail');\n                           this.setState({ requested: true });\n                         }\n                       }\n                       }\n                   />\n                  <Checkbox\n                      name='accept'\n                      defaultChecked={state.accept}\n                      value={state.accept}\n                      onChange={ onChange }\n                   >Я даю согласие на обработку своих персональных данных (имя, отчество, фамилия, дата рождения, почта, телефон) в соответствии с требованиями Федерального закона №152-ФЗ от 27.07.2006.</Checkbox>\n                   <Checkbox\n                       name='noty'\n                    /*   defaultChecked={state.noty}*/\n                       checked={state.noty}\n                       onChange={ (e) => {\n                         if(e.currentTarget.checked){\n                           console.log('Запросили право на рассылку!)')\n                           connect.send(\"VKWebAppAllowMessagesFromGroup\", {\"group_id\": 190034906, \"key\": \"noty\"});\n                         } else setParentState({ noty: false });\n                       } }\n                    >Отправить информацию по записи в личные сообщения</Checkbox>\n                 <Button size=\"xl\" onClick={ submit } level=\"primary\">Записаться</Button>\n                   </FormLayout>\n                    </Group>\n                    {state.snackbar}\n            </Panel>\n        );\n    }\n}\n\nexport default Doc;\n","import React, { Component } from 'react';\n\nimport { Panel, PanelHeader, Search, Footer } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './Home.css';\n\n\nclass SearchPanel extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            disabled: false\n        };\n\n        this.api = this.props.api;\n    }\n\n    componentDidMount() {}\n\n    render() {\n\n        return (\n            <Panel id={this.props.id}>\n                <PanelHeader>Поиск</PanelHeader>\n                <Search/>\n                <Footer>Введите название медицинского учреждения</Footer>\n            </Panel>\n        );\n    }\n}\n\nexport default SearchPanel;\n","import React from 'react';\n\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\nimport Footer from '@vkontakte/vkui/dist/components/Footer/Footer';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport Spinner from '@vkontakte/vkui/dist/components/Spinner/Spinner';\nimport { getMessage } from '../js/helpers';\n\nexport class Offline extends React.Component {\n\n\n    render() {\n        return (\n            <Panel id=\"offline\" theme=\"white\">\n              <PanelHeader>{/*Проблемы*/}</PanelHeader>\n                <Div>\n                    <Footer style={{ marginTop: '50%' }} >{ getMessage('no_internet') }</Footer>\n                    <Spinner/>\n                </Div>\n            </Panel>\n        )\n    }\n\n}\n\nexport default Offline;\n","import React from 'react';\nimport connect from '@vkontakte/vk-connect';\nimport { View, ScreenSpinner, ConfigProvider, /*TabbarItem, Tabbar,*/ Epic, Avatar, Snackbar } from '@vkontakte/vkui';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport './css/App.css';\n\nimport API from './js/api';\nimport { showAlert } from './js/helpers';\n\n//import Icon24Search from '@vkontakte/icons/dist/24/search';\n//import Icon24List from '@vkontakte/icons/dist/24/list';\nimport Icon16Done from '@vkontakte/icons/dist/16/done';\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\n\nimport Home from './panels/Home';\nimport District from './panels/District';\nimport Map from './panels/Map';\nimport Clinik from './panels/Clinik';\nimport Doc from './panels/Doc';\nimport SignUp from './panels/SignUp';\nimport Search from './panels/Search';\nimport Offline from './panels/Offline';\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'districts',\n\t\t\tactiveStory: 'home',\n\t\t\thistory: [\"districts\"],\n\t\t\tfetchedUser: {\n\t\t\t\tfirst_name: 'Test',\n\t\t\t\tlast_name: 'User'\n\t\t\t},\n\t\t\tpopout: null,\n\t\t\tsnackbar: null,\n\t\t\toffline: false,\n\t\t\tdistricts: false,\n\t\t\tdistrict: false,\n\t\t\tcliniks: false,\n\t\t\tclinik: false,\n\t\t\tspecs: false,\n\t\t\tdoc: false,\n\t\t\tdocs: false,\n\t\t\tcurrentDistrictId: false,\n\t\t\tuserDistricts: false,\n\t\t\tdateSign: '',\n\t\t\tvisitInfo: '',\n\t\t\tbirthday: '',\n\t\t\tphone: '',\n\t\t\tfirst_name: '',\n\t\t\tlast_name: '',\n\t\t\temail: '',\n\t\t\tmiddle_name: '',\n\t\t\taccept: '',\n\t\t\tnoty: '',\n\t\t\tlat: '',\n\t\t\tlong: ''\n\t\t};\n\n\t\tthis.initApp();\n\n\t\tthis.onStoryChange \t= this.onStoryChange.bind(this);\n\t}\n\n\t\tinitApp = () => {\n\n\t\twindow.showOfflinePage = (e) => {\n            this.setState({ offline: e });\n\t\t};\n\n\t\twindow.showAlert = (message, title, actions) => {\n            showAlert(this.setState.bind(this), message, title, actions);\n\t\t};\n\n\t\twindow.showLoader = (show) => {\n            this.setState({ popout: show ? <ScreenSpinner /> : null });\n\t\t};\n\n\t\tthis.api = new API();\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('popstate', e => {\n\t\t\te.preventDefault();\n\t\t\tthis.goBack(e);\n\t\t});\n\t\twindow.history.pushState({ panel: 'districts' }, `districts`)\n\t\tconnect.subscribe((e) => {\n\t\t\tif(e.detail.data) console.log(e.detail.type, e.detail.data)\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfetchedUser: e.detail.data,\n\t\t\t\t\t\tlast_name: e.detail.data.last_name,\n\t\t\t\t\t\tfirst_name: e.detail.data.first_name\n\t\t\t\t\t });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppUpdateConfig':\n\t\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\t\tschemeAttribute.value = e.detail.data.scheme ? e.detail.data.scheme : 'client_light';\n\t\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGetPhoneNumberResult':\n\t\t\t\t\tconnect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n\t\t\t\t\tthis.setState({ phone: e.detail.data.phone_number });\n\t\t\t\t\tconsole.log(this.state)\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppAllowMessagesFromGroupResult':\n\t\t\t\t\tthis.setState({ noty: e.detail.data.result });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGetEmailResult':\n\t\t\t\t\tconnect.send(\"VKWebAppTapticNotificationOccurred\", {\"type\": \"success\"});\n\t\t\t\t\tthis.setState({ email: e.detail.data.email });\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppViewHide':\n\t\t\t\t\twindow.showLoader(false);\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppCopyTextResult':\n\t\t\t\t\tthis.openDoneSnackbar('Скопировано');\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGeodataResult':\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tactivePanel: 'map',\n\t\t\t\t\t\tlat: e.detail.data.lat,\n\t\t\t\t\t\tlong: e.detail.data.long,\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'VKWebAppGeodataFailed':\n\t\t\t\t\tthis.openErrorSnackbar('Доступ к геолокации запрещён.')\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t// code\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t\tsetInterval(() => this.checkOnline(), 1500)\n\t\tthis.getDistricts()\n\t}\n\tonStoryChange = (story, panel) => {\n\t\t\tthis.setState({\n\t\t\t\tactiveStory: story,\n\t\t\t\tactivePanel: panel\n\t\t\t});\n\t}\n\tgoPanel = (panel) => {\n\t\t\tif(panel === 'home'){\n\t\t\t\tthis.setState({ cliniks: false });\n\t\t\t}\n        window.history.pushState({ panel: panel }, panel)\n        this.setState({\n            activePanel: panel,\n            history: [...this.state.history, panel]\n        });\n    }\n\tgoBack = () => {\n\t\t\t this.setState({ snackbar: null });\n\t\t\t window.showLoader(false);\n\t\t\t let history = [...this.state.history];\n\t     history.pop();\n\t     let activePanel = history[history.length - 1];\n\t\t\t if(!activePanel) activePanel = 'districts';\n\t     if (activePanel === 'districts') {\n\t       connect.send('VKWebAppDisableSwipeBack');\n\t     } else if(activePanel === 'district'){\n\t\t\t\t this.setState({ spec: false });\n\t\t\t } else if (activePanel === 'home'){\n\t\t\t\t this.setState({ cliniks: false });\n\t\t\t }\n\t\t\t if(history.length === 0) {\n\t\t\t\t connect.send(\"VKWebAppClose\", { \"status\": \"success\", \"text\": \"Не болейте!\" });\n\t\t\t\t console.log('close')\n\t\t\t }\n\t     this.setState({ history, activePanel });\n   }\n\tcheckOnline = e => {\n\t\tif(window.navigator.onLine){\n\t\t\twindow.showOfflinePage(false)\n\t\t} else window.showOfflinePage(true)\n\t}\n\n\tgetDistricts = async (id) => {\n\t\t\tthis.setState({ districts: false });\n\t\t\tconst districts = await this.api.GetDistricts(id);\n\t\t\tthis.setState({ districts });\n\t}\n\tgetDistrict = async (id, goPanel = true) => {\n\t\t\tconst cliniks = await this.api.GetDistrict(id);\n\t\t\tthis.setState({ cliniks });\n\t}\n\tgetSpecs = async (id, goPanel = true) => {\n\t\t\twindow.showLoader(true);\n\t\t\tthis.setState({ specs: false });\n\t\t\tconst specs = await this.api.GetSpecs(id);\n\t\t\tthis.setState({ specs });\n\t\t\twindow.showLoader(false);\n\t\t\tif(goPanel) this.goPanel('clinik')\n\t}\n\tgetDocs = async (lpu, spec) => {\n\t\t\tthis.setState({ docs: false });\n\t\t\tconst docs = await this.api.GetDocs(lpu, spec)\n\t\t\tthis.setState({ docs });\n\t\t\twindow.showLoader(false);\n\t}\n\tgetDoc = async (lpu, docId) => {\n\t\t\twindow.showLoader(true);\n\t\t\tthis.setState({ doc: false });\n\t\t\tconst doc = await this.api.GetDoc(lpu, docId)\n\t\t\tthis.setState({ doc });\n\t\t\twindow.showLoader(false);\n\t\t\tif(doc.length !== 0){\n\t\t\t\tthis.goPanel('doc');\n\t\t\t} else this.openErrorSnackbar('Произошла ошибка');\n\t}\n \topenDoneSnackbar = e => {\n\t\tthis.setState({\n\t\t\tsnackbar: <Snackbar\n\t\t\t\t\t\t\t\t\t\tduration={2000}\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{ backgroundColor: '#4bb34b' }}><Icon16Done fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\topenErrorSnackbar = (e, time = 2000) => {\n\t\tthis.setState({\n\t\t\tsnackbar: <Snackbar\n\t\t\t\t\t\t\t\t\t\tduration={time}\n\t\t\t\t\t\t\t\t\t\tlayout=\"vertical\"\n\t\t\t\t\t\t\t\t\t\tonClose={() => this.setState({ snackbar: null })}\n\t\t\t\t\t\t\t\t\t\tbefore={<Avatar size={24} style={{backgroundColor: '#FF0000'}}><Icon16Clear fill=\"#fff\" width={14} height={14} /></Avatar>}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{e}\n\t\t\t\t\t\t\t\t</Snackbar>\n\t\t});\n\t}\n\n\n\trender() {\n\t\tconst { api, state, goPanel, goBack, onStoryChange, openDoneSnackbar,\n\t\t\topenErrorSnackbar, getDistricts, getDistrict, getSpecs, getDocs, getDoc } = this;\n\n\t\tconst { offline, popout, activeStory, specs, districts, activePanel, fetchedUser, docs } = this.state;\n\t\tconst props = { api, state, openDoneSnackbar, openErrorSnackbar, activeStory,\n\t\t\t getDistricts, districts, specs, docs, goBack, goPanel, onStoryChange,\n\t\t\t getSpecs, getDistrict, getDocs, getDoc, fetchedUser, setParentState: this.setState.bind(this) };\n\n\t\tconst views = { popout, activePanel, };\n\n\t\treturn (\n\t\t\t<ConfigProvider isWebView={true}>\n\t\t\t\t{\n\t\t\t\t\toffline ?\n\t\t\t\t\t\t<View id=\"offline\" popout={ popout } activePanel=\"offline\">\n\t\t\t\t\t\t\t<Offline id=\"offline\" { ...props } />\n\t\t\t\t\t\t</View>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<Epic activeStory={ activeStory }/* tabbar={\n\n\t\t\t\t\t\t  <Tabbar>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ () => this.setState({\n\t\t\t\t\t\t\t\t\tactivePanel: 'districts',\n\t\t\t\t\t\t\t\t\tactiveStory: 'home'\n\t\t\t\t\t\t\t\t}) }\n\t\t\t\t\t\t\t\tselected={ activeStory === 'home' }\n\t\t\t\t\t\t\t><Icon24List /></TabbarItem>\n\t\t\t\t\t\t\t<TabbarItem\n\t\t\t\t\t\t\t\tonClick={ () => this.setState({\n\t\t\t\t\t\t\t\t\tactivePanel: 'search',\n\t\t\t\t\t\t\t\t\tactiveStory: 'search'\n\t\t\t\t\t\t\t\t}) }\n\t\t\t\t\t\t\t\tselected={ activeStory === 'search' }\n\t\t\t\t\t\t\t><Icon24Search /></TabbarItem>\n\t\t\t\t\t\t\t</Tabbar>\n\t\t\t\t\t\t}*/>\n\n\t\t\t\t\t\t\t\t<View id=\"search\" popout={ popout } activePanel=\"search\">\n\t\t\t\t\t\t\t\t\t<Search id=\"search\" { ...props } />\n\t\t\t\t\t\t\t\t</View>\n\n\t\t\t\t\t\t\t\t <View id=\"home\" \tonSwipeBack={this.goBack} history={this.state.history} { ...views } >\n\t\t\t\t\t\t\t\t\t<Home id=\"districts\" { ...props } />\n\t\t\t\t\t\t\t\t\t<District id=\"district\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Map id=\"map\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Clinik id=\"clinik\" { ...props } />\n\t\t\t\t\t\t\t\t\t<Doc id=\"doc\" { ...props } />\n\t\t\t\t\t\t\t\t\t<SignUp id=\"sign\" { ...props } />\n\t\t\t\t\t\t\t\t</View>\n\t\t\t\t\t\t\t</Epic>\n\n\t\t\t\t}\n\t\t\t</ConfigProvider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport mVKMiniAppsScrollHelper from '@vkontakte/mvk-mini-apps-scroll-helper';\n// import registerServiceWorker from './sw';\n\nconst root = document.getElementById('root');\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\nmVKMiniAppsScrollHelper(root);\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, root);\n"],"sourceRoot":""}